<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Katherine Hsu ECE 5160</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg text-uppercase fixed-top" id="mainNav" style="background-color: #5B6D49">
            <div class="container">
                <a class="navbar-brand" href="#page-top">Katherine Hsu</a>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#about">About</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#portfolio">Labs</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <section class="page-section about" id="about">
            <header class="masthead text-center" style="background-color: #A2AC82">
                <div class="container d-flex align-items-center flex-column">
                    <!-- Masthead Avatar Image-->
                    <img class="masthead-avatar mb-5" src="assets/img/profile.png" alt="Profile Picture" />
                    <!-- Masthead Heading-->
                    <h1 class="masthead-heading text-white text-uppercase mb-0">ECE 5160 Fast Robots</h1>
                    <!-- Icon Divider-->
                    <div class="divider-custom divider-light">
                        <div class="divider-custom-line"></div>
                        <div class="divider-custom-icon"><i class="fa-solid fa-robot"></i></div>
                        <div class="divider-custom-line"></div>
                    </div>
                    <!-- Masthead Subheading-->
                    <p class="masthead-subheading text-white font-weight-light mb-0">Hello! My name is Katherine Hsu, and I'm a Master of Engineering Computer Science student at Cornell University. My research interest includes artificial intelligence, robotics, and embedded systems!</p>
                </div>
            </header>
        </section>
        <!-- Lab Section-->
        <section class="page-section portfolio" id="portfolio">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Labs</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fa-solid fa-robot"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Lab Grid Items-->
                <div class="row justify-content-center">
                    <!-- Lab Item 1-->
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal1">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/1a/lab_1_cover.jpg" alt="image will be added" />
                        </div>
                    </div>
                    <!-- Lab Item 2-->
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal2">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="assets/2/lab_2_cover.jpg" alt="image will be added" />
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Copyright Section-->
        <div class="copyright py-4 text-center text-white" style="background-color: #5B6D49">
            <div class="container"><small>Copyright &copy; Katherine Hsu 2025</small></div>
        </div>
        <!-- Portfolio Modals-->
        <!-- Portfolio Modal 1-->
        <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" aria-labelledby="portfolioModal1" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-center text-secondary text-uppercase mb-0">Lab 1: Artemis and Bluetooth</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom text-center">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fa-solid fa-robot"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Text-->
                                    <!-- Lab 1A -->
                                    <p class="mb-4">The goal of this lab is get familiar with using the ArduinoIDE, Artemis Nano board, and BLE communication!</p>
                                    <h2 class="mb-4 text-secondary">Lab 1A</h2>
                                    <h3 class="mb-4 text-secondary">Prelab</h3>
                                    <p class="mb-4">For the prelab, I added the latest version of the Sparkfun Appollo3 boards manager to the ArduinoIDE on my laptop.</p> 
                                    <img class="img-fluid rounded mb-5" src="assets/1a/prelab.png" alt="..."/>
                                    <h3 class="mb-4 text-secondary">Task 1: Setup</h3>
                                    <p class="mb-4">For this task, I connected the Artemis Nano board to my laptop and selected the “RedBoard Artemis Nano” board and the corresponding serial port on the ArduinoIDE to ensure proper serial connections.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1a/task_1.png" alt="..."/>

                                    <h3 class="mb-4 text-secondary">Task 2: Blink</h3>
                                    <iframe width="560" height="315" src="https://www.youtube.com/embed/IXhPRStS1Aw?si=Gj2Gav1EMZa-A-xU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                                    <p class="mb-4">For this task, I used the simple Blink example code to test the Artemis board.</p>

                                    <h3 class="mb-4 text-secondary">Task 3: Serial</h3>
                                    <iframe width="560" height="315" src="https://www.youtube.com/embed/MH-1QSFDos4?si=ZUJh97m9OTOz4Nbh" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                                    <p class="mb-4">For this task, I used the Example04_Serial code to test the serial communication functionality of the Artemis board. Using the serial monitor in the ArduinoIDE, I confirmed that the board can print and echo back messages.</p>

                                    <h3 class="mb-4 text-secondary">Task 4: AnalogRead</h3>
                                    <iframe width="560" height="315" src="https://www.youtube.com/embed/7XmdsNGj748?si=ktuascvckX4JX4bw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                                    <p class="mb-4">For this task, I used the Example2_analogRead code to check if the temperature sensor is functioning properly. One challenge that I ran into while doing this task was that my hands were too cold to drastically change the chip’s temperature. As shown in the video, the temperature changed from around 32288 to 32908.</p>

                                    <h3 class="mb-4 text-secondary">Task 5: PDM</h3>
                                    <iframe width="560" height="315" src="https://www.youtube.com/embed/P0LV4PRMfLg?si=GxMgVCL_RkIkoBoj" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                                    <p class="mb-4">For this task, I used the Example1_MicrophoneOutput code to check if the microphone is functioning properly. In the video, I played the A4 note on my phone to check if the highest frequency on the serial monitor would change. </p>

                                    <h3 class="mb-4 text-secondary">Additional Task (5000 - Level Students)</h3>
                                    <img class="img-fluid rounded mb-3" src="assets/1a/c5_blink.png" alt="..."/>
                                    <p class="mb-4">Using the example code from Task 5 as a template, I was able to program the Artemis board to react to the C note by blinking the on-board LED. Additionally, I checked the frequency of the C5 note using the Example1_MicrophoneOutput code, which showed a frequency of 526 Hz.</p>
                                    
                                    <iframe width="560" height="315" src="https://www.youtube.com/embed/GDRuab635Uo?si=0o8lRLGy_H8F7p3E" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

                                    <p class="mb-4">Note: I used the Tuner Lite app on my phone to play the different musical notes.</p>

                                    <!-- Lab 1B -->
                                    <h2 class="mb-4 text-secondary">Lab 1B</h2>
                                    <h3 class="mb-4 text-secondary">Prelab</h3>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/venv.png" alt="..."/>
                                    <p class="mb-2">For the prelab, I set up a virtual environment called FastRobots_ble and installed the required packages in the environment using the command</p>
                                    <code>pip install numpy pyyaml colorama nest_asyncio bleak jupyterlab</code>
                                    <p></p>
                                    <p class="mb-4">Note that Matplotlib was installed later in the lab!</p>
                                    
                                    <p class="mb-4">Afterward, I added the codebase to the folder and successfully started the Jupyter server.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/jupyter_server.png" alt="..."/>
                                    <p class="mb-4">Lastly, I installed the ArduinoBLE library in the ArduinoIDE and flashed the ble_arduino.ino code from the codebase to the Artemis Nano board, which allowed the board to print its MAC address on the serial monitor.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/mac_address.png" alt="..."/>


                                    <h3 class="mb-4 text-secondary">
                                    Configurations</h3>
                                    <p class="mb-4">Using the function uuid4(), I was able to generate a unique UUID.</p>
                                    <img class="img-fluid rounded mb-3" src="assets/1b/uuid_address.png" alt="..."/>
                                    <p class="mb-4">Then, I updated the files with the correct MAC and UUID addresses!</p>
                                    <p class="mb-2">In connection.yaml</p>
                                    <code>artemis_address: 'c0:07:80:99:a1:44'</code>
                                    <p></p>
                                    <code>ble_service: 'b6c05544-1f26-40f3-a096-4e730eb9f3d2'</code>
                                    <p></p>
                                    <p class="mb-2">In ble_ardruino.ino</p>
                                    <code>#define BLE_UUID_TEST_SERVICE "b6c05544-1f26-40f3-a096-4e730eb9f3d2"</code>
                                    <p></p>
                                    <h3 class="mb-4 text-secondary">Task 1: ECHO</h3>
                                    <p class="mb-4">For this task, I programmed the ECHO function so that when the robot (Artemis board) receives a string “Hi!!!” it would return “Robot says -> Hi!!!”</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/task_1.png" alt="..."/>

                                    <h3 class="mb-4 text-secondary">Task 2: SEND_THREE_FLOATS</h3>
                                    <p class="mb-4">For this task, I programmed the SEND_THREE_FLOATS function to return the three float values extracted from the command.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/task_2.png" alt="..."/>

                                    <h3 class="mb-4 text-secondary">Task 3: GET_TIME_MILLIS</h3>
                                    <p class="mb-4">For this task, I added a command GET_TIME_MILLIS that returns the time since the program started in milliseconds using the function millis().</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/task_3.png" alt="..."/>

                                    <h3 class="mb-4 text-secondary">Task 4: Notification Handler</h3>
                                    <p class="mb-4">For this task, I programmed the notif_handler function and added the start_notify function so that the program would automatically run the notif_handler function whenever the RX_STRING characteristics is updated.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/task_4.png" alt="..."/>
                                    <p class="mb-4">With the notification handler, the robot can send commands to the computer without the computer initiating a command first. This is useful for the tasks below since we will be continuously receiving time and temperature data from the robot.</p>

                                    <h3 class="mb-4 text-secondary">Task 5: Time Loop</h3>
                                    <p class="mb-4">For this task, I created a command called LOOP_TIME that collects the time data on the robot and sends them to the computer for 3 seconds. For debugging purposes, I also printed the time to the serial monitor on the robot side.</p>
                                    <p class="mb-4">Using a spreadsheet, I was able to calculate the effective data transfer rate.</p>
                                    <p class="mb-4"><i>183 entries / (669857 ms - 666853 ms) = 0.0609 entries / ms = 60.9 entries / second</i></p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/task_5.png" alt="..."/>

                                    <h3 class="mb-4 text-secondary">Task 6: Time Array</h3>
                                    <p class="mb-4">For this task, I created a global variable array called time_stamp_array with a size of 30 on the robot side. Then, I created a command called SEND_TIME_DATA that stores 30 time data in the array and sends the data over to the computer once the robot finishes collecting data.</p>
                                    <p class="mb-4"><i>Effective data transfer rate = 30 entries / (749290 ms - 749260 ms) = 1 entry / ms = 1000 entries / second</i></p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/task_6.png" alt="..."/>

                                    <h3 class="mb-4 text-secondary">Task 7: Temperature Array</h3>
                                    <p class="mb-4">For this task, I added another global variable array called temp_readings_array with a size of 30 on the robot side. Then, I created another command called GET_TEMP_READINGS that uses a similar logic as the SEND_TIME_DATA command, except that it is storing and sending data in two arrays (time + temperature) concurrently.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/task_7.png" alt="..."/>
                                    <p class="mb-4">In order for the notification handler to parse the strings properly. I added indicators to the beginning of the data string that is being sent over from the robot. Therefore, since Task 6 is only sending the time data, I added “1” to the beginning of the string so that the computer knows that it is only expecting one data. Similarly, I added “2” to the beginning of the data string for Task 7 since the notification handler needs to parse the time and temperature data. By using If Else statements, the notif_handler function can identify different types of strings that the robot sends.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/get_temp_readings_code.png" alt="..."/>
                                    <p></p>

                                    <h3 class="mb-4 text-secondary">Task 8: Comparison between the Two Methods</h3>
                                    <h3 class="mb-4 text-secondary"></h3>
                                    <h6 class="mb-4 text-secondary">Method 1: Sends each data as it’s being collected</h6>
                                    <ul>
                                        <li><strong>Advantage:</strong> Requires less memory usage on the microcontroller board, which is important to consider since the Artemis Nano board doesn’t have a lot of memory.</li>
                                        <li><strong>Disadvantage:</strong> Records data at a slower rate since the robot has to execute the send data code before recording the next data reading.</li>
                                    </ul>
                                    <h6 class="mb-4 text-secondary">Method 2: Stores data in an array first</h6>
                                    <ul>
                                        <li><strong>Advantage:</strong> Can record data at a higher rate.</li>
                                        <li><strong>Disadvantage:</strong> Requires more memory usage on the microcontroller board since the robot has to store the array data. </li>
                                    </ul>
                                    <p class="mb-4">The first method records data at a rate of <strong>60.9 entries per second</strong>. In comparison, the second method records data at a rate of <strong>1000 entries per second</strong>, which is significantly faster than the first method. Note that the sample size for the second method is only 30 entries in comparison to the 183 entries for the first method.</p>

                                    <h6 class="mb-4 text-secondary">How much data can we store before running out of memory?</h6>
                                    <p class="mb-4">The Artemis board has 384 kB of RAM and each int has a size of 4 B.</p>
                                    <p class="mb-4"><i>384 kB / 4kB = 96 int data</i></p>
                                    <p class="mb-4">Therefore, we can store approximately 96 int type data on the board before running out of memory. However, it is important to note that other parts of the code would also take up memory on the board. So, the actual amount of data we can store would be smaller than 96.</p>

                                    <h3 class="mb-4 text-secondary">Additional Task (5000 - Level Students)</h3>

                                    <h5 class="mb-4 text-secondary">Task 1: Effective Data Rate And Overhead</h5>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/effective_data_rate_code.png" alt="..."/>
                                    <p class="mb-4">Since each char is 1 Byte of data, I decided to use the message “hello” to collect the data rate for responses ranging from 5 bytes to 120 bytes. In the end, I was able to collect 24 data points and use the Matplotlib library to plot a scatter plot of response size vs. data rate.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/effective_data_rate_output.png" alt="..."/>
                                    <p class="mb-4">According to the plot, the data rate and response size have a positive correlation.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/effective_data_rate_plot.png" alt="..."/>
                                    <p class="mb-4">Therefore, the data rate of shorter responses is slower than the data rate of longer responses. This is because short packets introduce more overhead than larger packets. In conclusion, larger responses can help reduce overhead because it is effectively using the data transmission space.</p>

                                    <h5 class="mb-4 text-secondary">Task 2: Reliability</h5>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/reliability_robot_code.png" alt="..."/>
                                    <p class="mb-4">To test the reliability when the robot sends data at a higher rate, I added a command called RELIABILITY that sends over 1000 messages to the computer. In order to test a fast transmission rate, I made sure that there are no unnecessary codes in between each data transmission.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/1b/reliability_code_p1.png" alt="..."/>
                                    <p class="mb-4">Afterward, I created a function to check if the computer read all 1000 messages sent from the robot correctly.</p>
                                    <img class="img-fluid rounded mb-3" src="assets/1b/reliability_code_p2.png" alt="..."/>
                                    <p class="mb-4">The results show that the communication between the computer and the robot is reliable!</p>

                                    <h3 class="mb-4 text-secondary">Discussion</h3>
                                    <p class="mb-4">Through this lab, I was able to get familiar with using the Artemis Nano board to communicate with the computer via BLE!</p>

                                    <h3 class="mb-4 text-secondary">References</h3>
                                    <p class="mb-4">Thank you to Professor Helbling and the TAs for their help during lab sessions. Furthermore, I referenced Nila Narayan and Mikayla Lahr’s websites!</p>
                                    <p></p>
                                    
                                    <div style="display: flex; align-items: center; justify-content: center;">
                                        <button class="btn btn-primary" data-bs-dismiss="modal">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            Close Window
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
         <!-- Portfolio Modal 2-->
        <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" aria-labelledby="portfolioModal2" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
                    <div class="modal-body pb-5">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-center text-secondary text-uppercase mb-0">Lab 2: IMU</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom text-center">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fa-solid fa-robot"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Text-->
                                    <!-- Lab 1A -->
                                    <p class="mb-4">The goal of this lab is get familiar with using the IMU and understand how accelerometers and gyroscopes work!</p>
                                    <h3 class="mb-4 text-secondary">Prelab</h3>
                                    <p class="mb-4">For the prelab, I read the documentations for the IMU to better understand how to use it for the lab. </p> 
                                    <p class="mb-4">Here is a diagram showing the pitch, roll, and yaw directions. We will be using these terms throughout this lab!</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/diagram.jpeg" alt="..."/>
                                    <h3 class="mb-4 text-secondary">Part 1: Set Up the IMU</h3>
                                    <p class="mb-4">This is the set up that I will be using for this lab.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/set_up.jpeg" alt="..."/>
                                    <p class="mb-4">Using the example code Example1_Basics, I was able to test if the IMU is functioning correctly.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/example_1.jpeg" alt="..."/>
                                    <p class="mb-4">As seen in the image, when the IMU is flat on the table and not moving, most of the values except for Acc_Z are close to zero. This is because even though the IMU is not moving, there is still gravitational acceleration due to gravity. Additionally, all the gyroscope values are near zero because the IMU is not rotating. After playing around with the IMU for a while, I confirmed that the accelerometer and gyroscope values change accordingly.</p>
                                    <h6 class="mb-4 text-secondary">AD0_val</h6>
                                    <p class="mb-4">The AD0_val that I will be using is 1. According to the datasheet and hookup guide on the Sparkfun website, AD0 represents the LSB of the I2C Slave Address. Since the ADR jumper is not closed, I decide to keep the AD0_val at 1.</p>
                                    <h6 class="mb-4 text-secondary">Visual Indication</h6>
                                    <img class="img-fluid rounded mb-5" src="assets/2/blink.png" alt="..."/>
                                    <p class="mb-4">I also added a visual indication where the on board LED will blink three times on start-up to show that the board is running.</p>

                                    <h3 class="mb-4 text-secondary">Part 2: Accelerometer</h3>
                                    <p class="mb-4">Using the equations that we learned during lecture and also the example code provided by the professor, I was able to compute the pitch and roll values from the accelerometer.</p> 

                                    <img class="img-fluid rounded mb-5" src="assets/2/accelerometer.jpeg" alt="..."/>
                                    <p class="mb-4">Using the wall on the side of my desk, I was able to show the pitch and roll values when the IMU is at {-90, 0, 90}. As expected, the pitch value is around -90, while the roll value is around 90. Therefore, the accelerometer is outputting relatively accurate values.</p>
                                    <h6 class="mb-4 text-secondary">Fourier Transform</h6>
                                    <p class="mb-4">In order to analyze the noise on the frequency spectrum, I plotted fourier transform graphs for both the pitch and roll values. To get a more accurate reading, I set the size of the array to 150.</p>

                                    <p class="mb-4">This is the pitch graph BEFORE using fourier transform.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/fft/acc_pitch.png" alt="..."/>
                                    
                                    <p class="mb-4">This is the pitch graph AFTER using fourier transform.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/fft/acc_pitch_fft.png" alt="..."/>

                                    <p class="mb-4">This is the roll graph BEFORE using fourier transform.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/fft/acc_pitch.png" alt="..."/>
                                    
                                    <p class="mb-4">This is the roll graph AFTER using fourier transform.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/fft/acc_pitch_fft.png" alt="..."/>

                                    <p class="mb-4">Looking to the fourier transform graphs that I plotted, I decided to use 3 HZ as my low pass filter cutoff frequency.</p>

                                    <h6 class="mb-4 text-secondary">Low Pass Filter</h6>
                                    <p class = "mb-4">In order to calculate the alpha value for the low pass filter, I wrote a few lines of code on jupyter notebook to compute the value using the cutoff frequency I picked.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/lpf/alpha_calculations.png" alt="..."/>
                                    <p class="mb-4">As shown in the code snippet, the calculated alpha value is around 0.05.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/lpf/code.png" alt="..."/>
                                    <p class="mb-4">Using the alpha value, I was able to compute and graph the filtered pitch and roll values.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/lpf/lpf_pitch.png" alt="..."/>
                                    <img class="img-fluid rounded mb-5" src="assets/2/lpf/lpf_roll.png" alt="..."/>
                                    <p class="mb-4">Comparing the filtered and unfiltered trends, we can see that the filtered graphs have less noise.</p>

                                    <h3 class="mb-4 text-secondary">Gyroscope</h3>
                                    <p class="mb-4">Here are the equations that I used for calculating the pitch, roll, and yaw values from the gyroscope data.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/gyr/gyr_code.png" alt="..."/>
                                    <p class="mb-4">Here is a graph of the gyroscope pitch, roll, and yaw values when the IMU is flat on the table. As seen in the graph, the values stayed around zero in the beginning, but then started drifting away from zero.</p> 
                                    <img class="img-fluid rounded mb-5" src="assets/2/gyr/gyr_value.png" alt="..."/>
                                    <p class="mb-4">Here is a video showing the gyroscope values changing with different rotations!</p>
                                    <iframe width="560" height="315" src="https://www.youtube.com/embed/B-uIMNzSZyE?si=mMRnRbBB1x4x3jwO" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                                    <p></p>

                                    <p class="mb-4">Using the equations that we learned in lecture, I was able to calculate the complementary filtered pitch and roll values!</p> 
                                    <img class="img-fluid rounded mb-5" src="assets/2/gyr/code.png" alt="..."/>

                                    <p class="mb-4">Here are the comparisons of the low pass filtered and complementary filtered pitch and roll values.</p> 
                                    <img class="img-fluid rounded mb-5" src="assets/2/gyr/com_pitch.png" alt="..."/>
                                    <img class="img-fluid rounded mb-5" src="assets/2/gyr/com_roll.png" alt="..."/>
                                    <p class="mb-4">The graphs show that the complementary filtered values follow the trend of the low pass filtered ones.</p>

                                    <h3 class="mb-4 text-secondary">Sample Data</h3>
                                    <p class="mb-4">In order to ensure a fast sampling rate, I removed all print statements and used the array method that we learned about in the previous lab to store the sampling data. I also created “START” and “STOP” commands to set the start and stop flags on the robot side.</p> 
                                    <img class="img-fluid rounded mb-5" src="assets/2/sample_data_code.png" alt="..."/>
                                    <p class="mb-4">Initially, I wanted to use to use 2 string arrays, one for accelerometer values and one for gyroscope values so it would take up less memory. However, I realized that the size of the string would be significantly larger than a float value. Therefore, I decided to use 5 separate arrays for storing the data (pitch_a, roll_a, pitch_g, roll_g, yaw_g, time) for simpler processing and an efficient use of memory. Additionally, I decided to use the floats data type to store the data because the accelerometer and gyroscope both output float values for better precision.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/sample_data_robot_code.png" alt="..."/>
                                    <p class="mb-4">In terms of the array sizes, I initially set the array sizes to around 3000 each. After testing, I noticed that the sampling rate is around 358 data per second. The array sizes after recording 5 seconds of data were 1790. Therefore, I modified the code on the robot side to have around a size of 2000 for each array. While I was uploading the code, the Arduino IDE outputted that the global variables are using up 31% dynamic memory. </p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/space.png" alt="..."/>

                                    <p class="mb-4">Here is a graph showing the time stamps and the collected data. The robot started recording data at around 46100 ms and stopped recording around 51178 ms.</p>
                                    <img class="img-fluid rounded mb-5" src="assets/2/sample_data_five.png" alt="..."/>

                                    <h3 class="mb-4 text-secondary">Record a Stunt!</h3>
                                    <p class="mb-4">After playing with the RC car for a while, I noticed that when it approaches a wall at a fast speed, it would either flip over or bounce off the wall depending on the approach angle. Furthermore, if I hold down the left/right control, the car would spin in place.</p>

                                    <iframe width="560" height="315" src="https://www.youtube.com/embed/x91RklBC1OM?si=VYTUFMgXTf-ALAa2" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

                                    <p></p>


                                    <h3 class="mb-4 text-secondary">Additional Discussion</h3>
                                    <p class="mb-4">When I was programming the fourier transform code using the reference website, I noticed that the line “from scipy import pi” was giving me an import error. Therefore, I removed the import code since the numpy library also has a pi function.</p> 


                                    <h3 class="mb-4 text-secondary">References</h3>
                                    <p class="mb-4">IMU: <a href="https://www.sparkfun.com/sparkfun-9dof-imu-breakout-icm-20948-qwiic.html">https://www.sparkfun.com/sparkfun-9dof-imu-breakout-icm-20948-qwiic.html</a></p>
                                    <p class="mb-4">Fourier Transform: <a href="https://www.alphabold.com/fourier-transform-in-python-vibration-analysis/">https://www.alphabold.com/fourier-transform-in-python-vibration-analysis/</a></p>
                                    <p class="mb-4">Thank you to Professor Helbling and the TAs for their help during lab sessions. Furthermore, I referenced Nila Narayan and Daria Kot’s websites!</p>
                                    <p></p>
                                    
                                    <div style="display: flex; align-items: center; justify-content: center;">
                                        <button class="btn btn-primary" data-bs-dismiss="modal">
                                            <i class="fas fa-xmark fa-fw"></i>
                                            Close Window
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
    </body>
</html>
